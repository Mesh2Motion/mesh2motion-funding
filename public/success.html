<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thank you! - Mesh2Motion</title>
    <link rel="stylesheet" href="./styles-shared.css"> <!-- shared styles between marketing and funding site -->
    <link rel="stylesheet" href="./styles.css">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.2/dist/confetti.browser.min.js"></script>
</head>
<body>
    <header>
            <nav>
                <ul>
                    <li>
                        <a class="image-link" href="https://mesh2motion.org">
                            <img src="./images/mesh2motion.svg" style="width: 200px; height: auto" />
                        </a>
                    </li>
                    <li class="mobile-hidden"><a href="https://mesh2motion.org/index.html#features">Features</a></li>
                    <li class="mobile-hidden"><a href="https://mesh2motion.org/index.html#walkthrough">Walkthrough</a></li>
                    <li class="mobile-hidden"><a href="https://mesh2motion.org/index.html#contribute">Contribute</a></li>
                    <li class="mobile-hidden"><a href="https://mesh2motion.org/news.html">News</a></li>
                    <li class="mobile-hidden"><span class="active"> ðŸ’— Support</span></li>
                    <li class="mobile-hidden"><a target="_blank" href="https://github.com/scottpetrovic/mesh2motion-app/">
                        <img src="./images/github-white-icon.png" width="20" /> 
                    </a></li>
                    <li class="mobile-hidden" style="flex-grow: 1"></li>
                    <li class="mobile-hidden"><a class="primary-button" href="https://app.mesh2motion.org">Try it out</a></li>
                </ul>
            </nav>
        </header>

        <main>
            <section id="thank-you-container" style="flex-direction: column; gap: 0">
                <h1>Thank you!</h1>
                <p>These assets are free for everyone, but your contribution helps keep this project alive and growing. You didn't have to pay, but you chose toâ€”and that means everything. Thanks for being awesome!</p> 

                <p>Keep track of this receipt code if there are any issues in the future. This will help find transactions if there are any issues.</p>

                <div id="session-id"></div>

                <a class="primary-button" style="width: fit-content; margin: auto;" href="/">Go back</a>
            </section>
          
        </main>

   


    <script>
        // On your success page (e.g., /success)
        const urlParams = new URLSearchParams(window.location.search);
        const sessionId = urlParams.get('session_id');

        // Function to create confetti bursts
        function createConfettiBurst(particleCount, angle, spread, origin, delay = 0) {
            setTimeout(() => {
                const config = {
                    particleCount: particleCount,
                    spread: spread,
                    origin: origin
                };
                
                if (angle !== undefined) {
                    config.angle = angle;
                }
                
                confetti(config);
            }, delay);
        }

        if (sessionId) {
            console.log('Payment Session ID:', sessionId);
            // Display to user or store for reference
            document.getElementById('session-id').textContent = sessionId;
            
            // Trigger confetti celebration!
            createConfettiBurst(100, undefined, 70, { y: 0.6 }, 0);
            createConfettiBurst(50, 60, 55, { x: 0 }, 250);
            createConfettiBurst(50, 120, 55, { x: 1 }, 400);
        }


    </script>

</body>
</html>

<!-- Test out with this information
http://127.0.0.1:57261/success?session_id=cs_test_a1xARy263vKi3NYHjv8p3BVa18wOqCHsVJ9zkJJsbZCQIaRzQiyXgXEFSE
-->